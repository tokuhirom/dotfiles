# see https://gist.github.com/2167307

set-option -g prefix C-t
set-option -g history-limit 10000

# マウスでペイン選択・リサイズ・スクロール
set -g mouse on

# 設定リロード
bind r source-file ~/.tmux.conf

# 256色
set -g default-terminal "screen-256color"

# esc 遅延をなくす（neovim 等に必要）
set -sg escape-time 0

# フォーカスイベントを有効化
set -g focus-events on

# scroll モードは vi バインド
# space でコピー選択開始、enter で選択終了。
set-window-option -g mode-keys vi
bind ^[ copy-mode
bind ^] paste-buffer
bind [ copy-mode
bind ] paste-buffer

## Prefix - Ctrl+cでも作成できるようにする
unbind ^C
bind ^C new-window

unbind ^p
bind ^p previous-window

unbind ^N
bind ^N next-window

## Prefix - Ctrl+tで先ほどアクティブだったウィンドウを表示
unbind ^T
bind ^T last-window

# split command
bind - split-window
bind | split-window -h

# ペイン移動
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# ペインのリサイズ
bind-key -r C-h resize-pane -L
bind-key -r C-j resize-pane -U
bind-key -r C-k resize-pane -D
bind-key -r C-l resize-pane -R

# クリップボード統合（macOS / Linux 両対応）
if-shell "uname | grep -q Darwin" {
    bind-key -T copy-mode-vi y     send-keys -X copy-pipe-and-cancel "pbcopy"
    bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"
}
if-shell "uname | grep -q Linux" {
    bind-key -T copy-mode-vi y     send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in"
    bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -selection clipboard -in"
}

set-environment -g NCURSES_NO_UTF8_ACS 0

set-option -g status-interval 5
set-option -g status-left "[%H:%M] "

# ----------------------------------
# ステータスバーの色
set-option -g status-fg   "#000000"
set-option -g status-bg   "#bebebe"

set -g automatic-rename off
